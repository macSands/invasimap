% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/compute_interaction_strength.R
\name{compute_interaction_strength}
\alias{compute_interaction_strength}
\title{Compute trait-based interaction strengths and resident abundance matrix}
\usage{
compute_interaction_strength(
  traits,
  predDF,
  method = "gower",
  kernel = c("distance", "similarity", "gaussian"),
  sigma = NULL,
  standardise = FALSE,
  sparsify_k = NULL
)
}
\arguments{
\item{traits}{data.frame. Species traits, first column = species name, remaining = traits.}

\item{predDF}{data.frame. Long table with columns \code{site_id}, \code{species}, and predicted abundance.}

\item{method}{character. Distance metric for \code{\link[cluster]{daisy}} (default \code{"gower"}).}

\item{kernel}{character. One of \code{"distance"}, \code{"similarity"}, \code{"gaussian"}.}

\item{sigma}{numeric. Gaussian kernel bandwidth; if NULL, set to median non-zero distance.}

\item{standardise}{logical. If TRUE, scale distances to \link{0,1} before kernelisation.}

\item{sparsify_k}{integer. If non-NULL, retain only k-nearest neighbours per species (symmetrised).}
}
\value{
A list with:
\itemize{
\item \code{g_all}: processed interaction matrix (distance or similarity).
\item \code{raw_distance}: unscaled Gower (or chosen) distance matrix.
\item \code{Nstar}: site × resident abundance matrix.
\item \code{sigma}: bandwidth used (if Gaussian kernel).
}
}
\description{
Computes a trait-based pairwise interaction matrix for all species (residents + invaders)
using Gower distance (default) or another dissimilarity metric, with options for:
\itemize{
\item \strong{Kernelisation} (\code{distance}, \code{similarity}, \code{gaussian})
\item \strong{Scaling/standardisation}
\item \strong{Sparsification} (e.g., k-nearest neighbour graph)
}

Also returns \code{Nstar}, a site × resident abundance matrix from predicted values.
}
\details{
The trait-based interaction strength matrix (\code{g_all}) is used in community assembly
and invasion models to quantify potential biotic effects between species. We recommend
\strong{Gower distance} for mixed traits, as it is scale-free and bounded in \link{0,1}.

The resident abundance matrix (\code{Nstar}) summarises equilibrium or expected abundances
for resident species at each site, based on predictions from the fitted abundance model.

\strong{Kernelisation options:}
\itemize{
\item \code{"distance"}: return dissimilarities directly (default for transparent interpretation).
\item \code{"similarity"}: convert to similarity in \link{0,1} by \code{1 - scaled_distance}.
\item \code{"gaussian"}: Gaussian kernel \eqn{K = exp(-D^2 / (2\sigma^2))}, with automatic
\eqn{\sigma} as the median non-zero distance if not supplied.
}
}
